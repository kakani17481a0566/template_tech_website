<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registration Form</title>
  <link rel="stylesheet" href="./css/register.css">
</head>
<body>
  <div class="container" id="register">
    <button class="close-button" onclick="closeForm()" href="index.html">×</button>
    <h2>Registration Form</h2>



<form id="registerForm" action="https://formspree.io/f/myzpagyy" method="POST">
  <!-- Optional: redirect after submit -->
  <!-- <input type="hidden" name="_next" value="https://your-site.com/thank-you.html" /> -->

  <!-- Subject -->
  <input type="hidden" name="_subject" value="New Registration" />

  <div class="form-group">
    <label for="firstName">Full Name</label>
    <div class="row">
      <input type="text" id="firstName" name="firstName" placeholder="First Name" required />
      <input type="text" id="lastName" name="lastName" placeholder="Last Name" required />
    </div>
  </div>

  <div class="form-group">
    <label for="dob">Date of Birth</label>
    <input type="date" id="dob" name="dob" required />
  </div>

  <div class="form-group">
    <label>Gender</label>
    <div class="gender-options">
      <label><input type="radio" name="gender" value="male" required /> Male</label>
      <label><input type="radio" name="gender" value="female" /> Female</label>
      <label><input type="radio" name="gender" value="other" /> Other</label>
    </div>
  </div>

  <div class="form-group">
    <label for="mobile">Phone Number</label>
    <input type="tel" id="mobile" name="mobile" pattern="[0-9]{10}" placeholder="e.g., 9876543210" required />
  </div>

  <div class="form-group">
    <label for="email">Email Address</label>
    <input type="email" id="email" name="email" placeholder="you@example.com" required />
  </div>

  <div class="form-group">
    <label for="address">Address</label>
    <input type="text" id="address" name="address" placeholder="Street / Locality" required />
  </div>

  <div class="form-group">
    <div class="row">
      <input type="text" name="city" placeholder="City" required />
      <input type="text" name="state" placeholder="State" required />
    </div>
  </div>

  <div class="form-group">
    <div class="row">
      <input type="text" name="pincode" placeholder="Pincode / Postal Code" pattern="[0-9]{6}" required />
      <input type="text" name="country" placeholder="Country" required />
    </div>
  </div>

  <div class="form-group">
    <label>Select Your Interests</label>
    <div class="dropdown-checkbox" id="interestDropdown">
      <button type="button" class="dropdown-checkbox-button" onclick="toggleDropdown()" id="dropdownToggleBtn">
        Select Interests
      </button>
      <div class="dropdown-checkbox-content">
        <label><input type="checkbox" name="interests[]" value="neuroPi" onchange="updateSelected()"> NeuroPi</label>
        <label><input type="checkbox" name="interests[]" value="earlyLearning" onchange="updateSelected()"> Early Learning</label>
        <label><input type="checkbox" name="interests[]" value="specialEducation" onchange="updateSelected()"> Special Education</label>
        <label><input type="checkbox" name="interests[]" value="sport" onchange="updateSelected()"> Sports</label>
        <label><input type="checkbox" name="interests[]" value="teenagers" onchange="updateSelected()"> Teenagers</label>
        <label><input type="checkbox" name="interests[]" value="midlife" onchange="updateSelected()"> Midlife</label>
        <label><input type="checkbox" name="interests[]" value="defence" onchange="updateSelected()"> Defence</label>
        <label><input type="checkbox" name="interests[]" value="aerospace" onchange="updateSelected()"> Aerospace</label>
      </div>
    </div>
  </div>

  <div class="form-group">
    <button type="submit" class="submit-button">Register</button>
  </div>
</form>




  </div>

<script>
  // --- Dropdown open/close ---
  function toggleDropdown() {
    const dd = document.getElementById("interestDropdown");
    dd.classList.toggle("open");
  }

  // Close when clicking outside
  document.addEventListener("click", function (e) {
    const dd = document.getElementById("interestDropdown");
    if (!dd) return;
    if (!dd.contains(e.target)) dd.classList.remove("open");
  });

  // Update button text with selected interests
  function updateSelected() {
    const checkboxes = document.querySelectorAll('#interestDropdown input[type="checkbox"]');
    const selected = Array.from(checkboxes)
      .filter(cb => cb.checked)
      .map(cb => cb.parentNode.textContent.trim());
    const btn = document.getElementById('dropdownToggleBtn');
    if (btn) btn.textContent = selected.length ? selected.join(', ') : 'Select Interests';
  }

  // Dynamic subject for Formspree (includes name)
  document.getElementById("registerForm").addEventListener("submit", function(){
    const first = (document.getElementById("firstName").value || "").trim();
    const last  = (document.getElementById("lastName").value  || "").trim();
    let hidden = this.querySelector('input[name="_subject"]');
    if (!hidden) {
      hidden = document.createElement('input');
      hidden.type = 'hidden';
      hidden.name = '_subject';
      this.appendChild(hidden);
    }
    hidden.value = `New Registration • ${[first,last].filter(Boolean).join(' ')}`;
  });

  // Close button handler
  function closeForm() {
    window.location.href = 'index.html';
  }

  // Optional: init dropdown label on load
  (function(){
    const btn = document.getElementById('dropdownToggleBtn');
    if (btn) btn.textContent = 'Select Interests';
  })();
</script>



</body>
</html>
